(this["webpackJsonpalioss-html"]=this["webpackJsonpalioss-html"]||[]).push([[0],{126:function(e,t,a){e.exports=a.p+"static/media/android.dccc17be.svg"},127:function(e,t,a){e.exports=a.p+"static/media/apple.60af4387.svg"},128:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(13),l=a.n(s),c=(a(45),a(6)),o=a(31),r=a(32),p=a(12),d=a(39),m=a(38),u=(a(46),a(33)),h=a.n(u),f=a(34),v=a.n(f),b=a(17),w=a.n(b),g=a(35),E=a(37),y=a.n(E),k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).installApp=a.installApp.bind(Object(p.a)(a)),a.selectRow=a.selectRow.bind(Object(p.a)(a)),a.showQRCode=a.showQRCode.bind(Object(p.a)(a));var s=(new v.a).parse(navigator.userAgent);return a.state={isLoading:!0,url:"https://bigtick.space/app/download/config.json",device:s,list:[],current:null,isInstalling:!1,headerTitle:"\u5f88\u9ad8\u5174\u9080\u8bf7\u60a8\u5b89\u88c5App\uff0c\u6d4b\u8bd5\u5e76\u53cd\u9988\u95ee\u9898\uff0c\u4fbf\u4e8e\u6211\u4eec\u53ca\u65f6\u89e3\u51b3\u60a8\u9047\u5230\u7684\u95ee\u9898\uff0c\u5341\u5206\u8c22\u8c22\uff01Thanks\u266a(\uff65\u03c9\uff65)\uff89"},a.ref=i.a.createRef(),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.url,n=t.device,i=t.headerTitle;h()(a).then((function(e){return e.json()})).then((function(t){var a=t.title?t.title:i,s=t.ipaList||[],l=t.apkList||[],o=t.appList||[],r=[];"iOS"===n.os.name?r=Object(c.a)(s):"Android"===n.os.name?r=Object(c.a)(l):"desktop"===n.device.type&&(r=[].concat(Object(c.a)(s),Object(c.a)(l),Object(c.a)(o))),r=Object(c.a)(r).sort((function(e,t){return e.time<t.time?1:-1})),e.setState({isLoading:!1,headerTitle:a,list:Object(c.a)(r),current:r.length?r[0]:null})})),this.showQRCode()}},{key:"showQRCode",value:function(){var e=this.ref.current;e&&g.a.toCanvas({canvas:e,content:window.location.href,width:260,logo:{src:a(30),radius:8}})}},{key:"installApp",value:function(){var e=this,t=this.state,a=t.current,n=t.device;if(a)if("iOS"===n.os.name){var i=a.domain+"download/"+a.path+"manifest.plist";window.location.href="itms-services://?action=download-manifest&url="+i,setTimeout((function(){e.setState({isInstalling:!0})}),1e3)}else window.location.href=a.domain+"download/"+a.path+a.name}},{key:"selectRow",value:function(e){this.setState({current:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,s=t.list,l=t.current,c=t.isInstalling,o=t.headerTitle,r=t.device,p=l||{version:"",build:0,size:0,time:0,desc:"",name:"*.ipa"},d=-1!==p.name.indexOf(".apk")?"fa fa-android":"fa fa-apple";return i.a.createElement(y.a,{active:n,spinner:!0,text:"Loading..."},i.a.createElement("div",{className:"App"},i.a.createElement("p",null,o),i.a.createElement("img",{src:a(30),className:"App-icon",alt:""}),i.a.createElement("p",{className:"App-detail-text"},"\u7248\u672c\uff1a",p.version,"(build ",p.build,") \xa0\xa0 \u5927\u5c0f\uff1a",(p.size/1024/1024).toFixed(2)," MB \xa0\xa0 \u66f4\u65b0\u65f6\u95f4\uff1a",w()("yyyy-MM-dd hh:mm:ss",new Date(1e3*p.time))),i.a.createElement("div",{className:"App-update-desc"},p.desc),l?i.a.createElement("button",{id:"install-app",className:"App-install-button",onClick:this.installApp},i.a.createElement("i",{className:d,"aria-hidden":"true"},i.a.createElement("span",{className:"App-install-button-text"}," ",c?"\u6b63\u5728\u5b89\u88c5...":"\u5b89\u88c5App"))):i.a.createElement("p",null,"Sorry\uff0c\u672a\u627e\u5230\u4efb\u4f55\u8f6f\u4ef6\u5305\uff01"),(r.os.name,i.a.createElement("a",{href:"https://bigtick.space/app/udid.mobileconfig",className:"App-help"},"\u82e5\u65e0\u6cd5\u5b89\u88c5\u8bf7\u70b9\u6b64\u4e0b\u8f7d\u63cf\u8ff0\u6587\u4ef6")),i.a.createElement("canvas",{ref:this.ref}),i.a.createElement("div",{className:"App-line"}," "),i.a.createElement("p",null,"\u5386\u53f2\u7248\u672c"),i.a.createElement("div",{className:"App-history-version"},s.map((function(t,n){var s=n%2===0?"App-box-0":"App-box-1",l=-1!==t.name.indexOf(".apk")?a(126):a(127);return i.a.createElement("div",{key:n,className:s,onClick:function(){e.selectRow(t)}},"desktop"===r.device.type&&i.a.createElement("i",null,i.a.createElement("img",{src:l,alt:""})),i.a.createElement("i",{style:{marginRight:"10%"}}," ",t.name),i.a.createElement("p",{style:{marginRight:"10%"}},t.version," (build ",t.build," )"),i.a.createElement("p",null,w()("desktop"===r.device.type?"yyyy-MM-dd hh:mm:ss":"MM-dd hh:mm",new Date(1e3*t.time))))})))))}}]),n}(i.a.Component);l.a.render(i.a.createElement(k,null),document.getElementById("root"))},30:function(e,t,a){e.exports=a.p+"static/media/icon.75698332.png"},40:function(e,t,a){e.exports=a(128)},45:function(e,t,a){},46:function(e,t,a){}},[[40,1,2]]]);
//# sourceMappingURL=main.4a38c0f8.chunk.js.map